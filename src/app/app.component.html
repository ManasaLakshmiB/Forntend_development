<div class="container-fluid">
  <h2>User Creation Form</h2>
  <form [formGroup]="userCreationForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label> Fullname </label>
      <input [class.is-invalid]="userCreationForm.get('fullname').invalid && 
                                 userCreationForm.get('fullname').touched" class="form-group"
        formControlName="fullname" type="text" class="form-control">
      <small [class.d-none]="userCreationForm.get('fullname').valid || 
                             userCreationForm.get('fullname').untouched" class="text-danger">fullname is
        required</small>
    </div>
    <div class="form-group">
      <label> Email</label>
      <input [class.is-invalid]=" userCreationForm.get('email').invalid &&  
                                 userCreationForm.get('email').touched" class="form-group" formControlName="email"
        type="email" class="form-control">
      <div
        *ngIf="(userCreationForm.get('email').invalid && userCreationForm.get('email').touched) || userCreationForm.get('email').dirty">
        <small class="text-danger" *ngIf="userCreationForm.get('email').errors?.required">Email address is
          required</small>
        <small class="text-danger" *ngIf="userCreationForm.get('email').errors?.pattern">Email address is
          invalid</small>
      </div>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input [class.is-invalid]="userCreationForm.get('password').invalid && 
                            userCreationForm.get('password').touched" class="form-group" formControlName="password"
        type="password" class="form-control">
      <div *ngIf="userCreationForm.get('password').invalid && userCreationForm.get('password').touched">
        <small *ngIf="userCreationForm.get('password').errors?.required" class="text-danger">password is
          required</small>
        <small *ngIf="userCreationForm.get('password').errors?.minlength" class="text-danger">password must be atleast 5
          characters</small>
      </div>
    </div>
    <div class="form-group">
      <label> Occupation</label>
      <select class="custom-select  form-control" formControlName="occupation">
        <option value="">Choose occupation</option>
        <option *ngFor="let occupation of jsonObj?.occupations" [ngValue]="occupation">
          {{ occupation }}
        </option>
      </select>
      <div *ngIf="(userCreationForm.get('occupation').invalid && userCreationForm.get('occupation').touched) ">
        <small class="text-danger" *ngIf="userCreationForm.get('occupation').errors?.required">occupation is
          required</small>
      </div>
    </div>
    <div class="form-group">
      <label> State</label>
      <select class="custom-select  form-control" formControlName="state">
        <option value="">Choose State</option>
        <option *ngFor="let  state of jsonObj?.states" [ngValue]="state.abbreviation">
          {{state.name}}
        </option>
      </select>
      <div *ngIf="(userCreationForm.get('state').invalid && userCreationForm.get('state').touched) ">
        <small class="text-danger" *ngIf="userCreationForm.get('state').errors?.required">state is
          required</small>
      </div>
    </div>
    <button class="btn btn-primary mt-3" [disabled]="userCreationForm.invalid"   type="submit">submit</button>
  </form>
</div>